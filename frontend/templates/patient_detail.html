{% extends "layout.html" %}
{% block title %}Patient Details - SekouAI{% endblock %}

{% block content %}
<main role="main">
  <section class="card shadow-sm p-4 mb-5">
    <h2 class="mb-4">Patient Details</h2>

    <dl class="row mb-0">
      <dt class="col-sm-4">Full Name</dt>
      <dd class="col-sm-8">{{ patient.name or '—' }}</dd>

      <dt class="col-sm-4">Age</dt>
      <dd class="col-sm-8">{{ patient.age or '—' }}</dd>

      <dt class="col-sm-4">Sex</dt>
      <dd class="col-sm-8">
        {% if patient.sex %}
          <span class="badge bg-secondary">{{ patient.sex }}</span>
        {% else %}
          <span class="text-muted">—</span>
        {% endif %}
      </dd>

      <dt class="col-sm-4">Antecedents</dt>
      <dd class="col-sm-8">{{ patient.antecedents or 'None reported' }}</dd>

      <dt class="col-sm-4">Symptoms</dt>
      <dd class="col-sm-8">
        <ul class="mb-0">
          {% if patient.fever %}<li>Fever</li>{% endif %}
          {% if patient.cough %}<li>Cough</li>{% endif %}
          {% if patient.shortness_of_breath %}<li>Shortness of Breath</li>{% endif %}
          {% if not patient.fever and not patient.cough and not patient.shortness_of_breath %}
            <li>No reported symptoms</li>
          {% endif %}
        </ul>
      </dd>

      <dt class="col-sm-4">Risk Level</dt>
      <dd class="col-sm-8">
        {% set risk = patient.risk_level %}
        {% if risk == 'high' %}
          <span class="badge bg-danger">High</span>
        {% elif risk == 'medium' %}
          <span class="badge bg-warning text-dark">Medium</span>
        {% elif risk == 'low' %}
          <span class="badge bg-success">Low</span>
        {% else %}
          <span class="badge bg-info">{{ risk | capitalize }}</span>
        {% endif %}
      </dd>

      <dt class="col-sm-4">Created At</dt>
      <dd class="col-sm-8">{{ patient.created_at.strftime('%Y-%m-%d %H:%M') if patient.created_at else "—" }}</dd>
    </dl>

    <div class="mt-4 d-flex justify-content-between flex-wrap gap-2">
      <a href="/patients" class="btn btn-outline-primary">
        <i class="fas fa-arrow-left me-1"></i> Back to Patient List
      </a>
      <div>
        <a href="/patients/{{ patient.id }}/edit" class="btn btn-warning me-2">
          <i class="fas fa-edit me-1"></i> Edit
        </a>
        <a href="/patients/{{ patient.id }}/delete" class="btn btn-danger">
          <i class="fas fa-trash-alt me-1"></i> Delete
        </a>
      </div>
    </div>
  </section>
</main>
{% endblock %}
